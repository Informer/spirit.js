/*! Spirit - v0.1.0 - 2013-10-28
* Copyright (c) 2013 Patrick Brouwer; 
*/
(function(t){"use strict";t.use=function(t){for(var e=t.split("."),n=0,i=e.length,o=window;i>n;++n){var r=e[n];o[r]||(o[r]={}),o=o[r]}return o}})(window),function(t){"use strict";t.has=function(t,e){return hasOwnProperty.call(t,e)},t.keys=Object.keys||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var n=[];for(var i in e)t.has(e,i)&&n.push(i);return n},t.each=function(e,n,i){if(null!==e){var o,r;if(Array.prototype.forEach&&e.forEach===Array.prototype.forEach)e.forEach(n,i);else if(e.length===+e.length){for(o=0,r=e.length;r>o;o++)if(n.call(i,e[o],o,e)==={})return}else{var s=t.keys(e);for(o=0,r=s.length;r>o;o++)if(n.call(i,e[s[o]],s[o],e)==={})return}}},t.extend=function(e){return t.each(Array.prototype.slice.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},t.isFunction=function(t){return"function"==typeof t},t.extendObject=function(e,n){var i,o=this;i=e&&t.has(e,"constructor")?e.constructor:function(){return o.apply(this,arguments)},t.extend(i,o,n);var r=function(){this.constructor=i};return r.prototype=o.prototype,i.prototype=new r,e&&t.extend(i.prototype,e),i.__super__=o.prototype,i};var e=Function.prototype.bind,n=Array.prototype.slice,i=function(){};t.bind=function(o,r){var s,u;if(e&&o.bind===e)return e.apply(o,n.call(arguments,1));if(!t.isFunction(o))throw new TypeError;return s=n.call(arguments,2),u=function(){if(!(this instanceof u))return o.apply(r,s.concat(n.call(arguments)));i.prototype=o.prototype;var t=new i;i.prototype=null;var e=o.apply(t,s.concat(n.call(arguments)));return Object(e)===e?e:t}},t.bindAll=function(e){var i=n.call(arguments,1);if(0===i.length)throw Error("bindAll must be passed function names");return t.each(i,function(n){e[n]=t.bind(e[n],e)}),e},t.identity=function(t){return t},t.every=t.all=function(e,n,i){n||(n=t.identity);var o=!0;return null==e?o:Array.prototype.every&&e.every===Array.prototype.every?e.every(n,i):(t.each(e,function(t,e,r){return(o=o&&n.call(i,t,e,r))?void 0:{}}),!!o)},t.any=t.some=function(e,n,i){n||(n=t.identity);var o=!1;return null==e?o:Array.prototype.some&&e.some===Array.prototype.some?e.some(n,i):(t.each(e,function(t,e,r){return o||(o=n.call(i,t,e,r))?{}:void 0}),!!o)},t.functions=function(e){var n=[];for(var i in e)t.isFunction(e[i])&&n.push(i);return n.sort()}}(use("spirit._helpers")),function(t){"use strict";var e=use("spirit._helpers");t.AbstractModel=function(){},t.AbstractModel.extend=e.extendObject,t.AbstractModel.prototype={defaults:{},initialize:function(){}}}(use("spirit.models")),function(t){"use strict";var e=use("spirit._helpers");t.TransitionModel=t.AbstractModel.extend({initialize:function(){console.log("TransitionModel -> initialize",e.isPrototypeOf(this))}})}(use("spirit.models")),function(t){"use strict";var e=use("spirit._helpers");t.TransitionParamModel=t.AbstractModel.extend({initialize:function(){console.log("TransitionParamModel -> initialize",e.isPrototypeOf(this))}})}(use("spirit.models")),function(t){"use strict";var e=use("spirit._helpers"),n=function(){if(this._debug&&window.console&&e.isFunction(window.console.log)){var t=[].slice.call(arguments);t.unshift("Spirit: ->"),console.log.apply(console,t)}},i=function(){return{tweenEngine:{tween:e.isFunction(window.TweenMax)?window.TweenMax:window.TweenLite,timeline:e.isFunction(window.TimelineMax)?window.TimelineMax:window.TimelineLite},childSelector:"*",forceDebug:!1}};t.Timeline=function(n,o){if(0===arguments.length||!e.some([Array,HTMLElement,$],function(t){return n instanceof t}))throw t.Timeline.errorMessages.noContainerElementFound;this.$el=$($(n).get(0)),this._validateOptions(e.extend(this.options,i(),o||{})),this._debug=!!this.options.forceDebug,this._construct()},t.Timeline.extend=e.extendObject,t.Timeline.prototype={_json:{},$el:null,$elements:null,options:{},timeline:null,_construct:function(){n.call(this,"Spirit constructed"),this.$elements=this.$el.find(this.options.childSelector),this.initialize(),this.jsonData&&this.parseJSON(this.jsonData)},_validateOptions:function(){if(!e.isFunction(this.options.tweenEngine.tween)||!e.isFunction(this.options.tweenEngine.timeline))throw t.Timeline.errorMessages.invalidTweeningEngines},initialize:function(){n.call(this,"initialized with options: ",this.options)},preConstructTimeline:function(t){return n.call(this,"preconstruct Timeline"),t},constructTimeline:function(){},update:function(t){return n.call(this,"update:",t),t},toJSON:function(){return{}},parseJSON:function(t){this._json=t,n.call(this,"parseJSON",t)},kill:function(){}},e.extend(t.Timeline.prototype,{_debug:!1,forceDebug:function(t){this._debug=t},isDebug:function(){return this._debug}}),e.extend(t.Timeline.prototype,{on:function(){},off:function(){},trigger:function(){}}),e.extend(t.Timeline,{errorMessages:{noContainerElementFound:"Spirit: no container element found! Make sure you provide a container element",invalidTweeningEngines:"Spirit: no Tween[Lite/Max] or Timeline[Lite/Max] found. Both are required in order to use Spirit"}})}(use("spirit")),function(t){"use strict";var e=use("spirit._helpers"),n=use("spirit.models");t.Timeline.extend=n.AbstractModel.extend=function(t,e){var n=o(this,t,e);return n.extend=this.extend,n};var i=function(){},o=function(t,n,o){var r,s=t.prototype,u=/xyz/.test(function(t){})?/\b_super\b/:/.*/;if(r=n&&n.hasOwnProperty("constructor")?n.constructor:function(){t.apply(this,arguments)},e.extend(r,t),i.prototype=t.prototype,r.prototype=new i,n){e.extend(r.prototype,n);for(var c in n)"function"==typeof n[c]&&"function"==typeof s[c]&&u.test(n[c])&&(r.prototype[c]=function(t,e){return function(){var n=this._super;this._super=s[t];var i=e.apply(this,arguments);return this._super=n,i}}(c,n[c]))}return o&&e.extend(r,o),r.prototype.constructor=r,r.__super__=t.prototype,r}}(use("spirit"));