/*! Spirit - v0.1.0 - 2013-10-25
* Copyright (c) 2013 Patrick Brouwer; 
*/
(function(t){"use strict";t.use=function(t){for(var n=t.split("."),e=0,i=n.length,r=window;i>e;++e){var o=n[e];r[o]||(r[o]={}),r=r[o]}return r}})(window),function(t){"use strict";t.has=function(t,n){return hasOwnProperty.call(t,n)},t.keys=Object.keys||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var e=[];for(var i in n)t.has(n,i)&&e.push(i);return e},t.each=function(n,e,i){if(null!==n){var r,o;if(Array.prototype.forEach&&n.forEach===Array.prototype.forEach)n.forEach(e,i);else if(n.length===+n.length){for(r=0,o=n.length;o>r;r++)if(e.call(i,n[r],r,n)==={})return}else{var u=t.keys(n);for(r=0,o=u.length;o>r;r++)if(e.call(i,n[u[r]],u[r],n)==={})return}}},t.extend=function(n){return t.each(Array.prototype.slice.call(arguments,1),function(t){if(t)for(var e in t)n[e]=t[e]}),n},t.isFunction=function(t){return"function"==typeof t},t.extendObject=function(n,e){var i,r=this;i=n&&t.has(n,"constructor")?n.constructor:function(){return r.apply(this,arguments)},t.extend(i,r,e);var o=function(){this.constructor=i};return o.prototype=r.prototype,i.prototype=new o,n&&t.extend(i.prototype,n),i.__super__=r.prototype,i};var n=Function.prototype.bind,e=Array.prototype.slice,i=function(){};t.bind=function(r,o){var u,s;if(n&&r.bind===n)return n.apply(r,e.call(arguments,1));if(!t.isFunction(r))throw new TypeError;return u=e.call(arguments,2),s=function(){if(!(this instanceof s))return r.apply(o,u.concat(e.call(arguments)));i.prototype=r.prototype;var t=new i;i.prototype=null;var n=r.apply(t,u.concat(e.call(arguments)));return Object(n)===n?n:t}},t.bindAll=function(n){var i=e.call(arguments,1);if(0===i.length)throw Error("bindAll must be passed function names");return t.each(i,function(e){n[e]=t.bind(n[e],n)}),n},t.identity=function(t){return t},t.every=t.all=function(n,e,i){e||(e=t.identity);var r=!0;return null==n?r:Array.prototype.every&&n.every===Array.prototype.every?n.every(e,i):(t.each(n,function(t,n,o){return(r=r&&e.call(i,t,n,o))?void 0:{}}),!!r)},t.any=t.some=function(n,e,i){e||(e=t.identity);var r=!1;return null==n?r:Array.prototype.some&&n.some===Array.prototype.some?n.some(e,i):(t.each(n,function(t,n,o){return r||(r=e.call(i,t,n,o))?{}:void 0}),!!r)}}(use("spirit._helpers")),function(t){"use strict";var n=use("spirit._helpers"),e=function(){if(this._debug&&window.console&&n.isFunction(window.console.log)){var t=[].slice.call(arguments);t.unshift("Spirit: ->"),console.log.apply(console,t)}},i=function(){return{tweenEngine:{tween:n.isFunction(window.TweenMax)?window.TweenMax:window.TweenLite,timeline:n.isFunction(window.TimelineMax)?window.TimelineMax:window.TimelineLite},childSelector:"*"}};t.Timeline=function(t,e){if(0===arguments.length||!n.some([Array,HTMLElement,$],function(n){return t instanceof n}))throw"Spirit: no container element found! Make sure you provide a container element";this.$el=$($(t).get(0)),this._validateOptions(n.extend(this.options,i(),e||{})),this._construct()},t.Timeline.extend=n.extendObject,t.Timeline.prototype={_elements:{},$el:null,$elements:null,options:{},timeline:null,_construct:function(){this._debug=!!this.options.forceDebug,e.call(this,"Spirit constructed"),this.$elements=this.$el.find(this.options.childSelector),this.initialize(),this.jsonData&&this.parseJSON(this.jsonData)},_validateOptions:function(){if(!n.isFunction(this.options.tweenEngine.tween)||!n.isFunction(this.options.tweenEngine.timeline))throw"Spirit: no Tween[Lite/Max] or Timeline[Lite/Max] found. Both are required in order to use Spirit"},initialize:function(){e.call(this,"initialized with options: ",this.options)},preConstructTimeline:function(t){return e.call(this,"preconstruct Timeline"),t},constructTimeline:function(){},update:function(t){return e.call(this,"update:",t),t},toJSON:function(){return{}},parseJSON:function(t){e.call(this,"parseJSON",t)},kill:function(){}},n.extend(t.Timeline.prototype,{_debug:!1,forceDebug:function(t){this._debug=t},isDebug:function(){return this._debug}}),n.extend(t.Timeline.prototype,{on:function(){},off:function(){},trigger:function(){}})}(use("spirit")),function(t){"use strict";var n=use("spirit._helpers");t.Timeline.extend=function(t,n){var e=i(this,t,n);return e.extend=this.extend,e};var e=function(){},i=function(t,i,r){var o,u=t.prototype,s=/xyz/.test(function(t){})?/\b_super\b/:/.*/;if(o=i&&i.hasOwnProperty("constructor")?i.constructor:function(){t.apply(this,arguments)},n.extend(o,t),e.prototype=t.prototype,o.prototype=new e,i){n.extend(o.prototype,i);for(var c in i)"function"==typeof i[c]&&"function"==typeof u[c]&&s.test(i[c])&&(o.prototype[c]=function(t,n){return function(){var e=this._super;this._super=u[t];var i=n.apply(this,arguments);return this._super=e,i}}(c,i[c]))}return r&&n.extend(o,r),o.prototype.constructor=o,o.__super__=t.prototype,o}}(use("spirit"));